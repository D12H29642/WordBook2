<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ë‹¨ì–´ ì•”ê¸° ì²´í¬ (ì—…ë°ì´íŠ¸)</title>
  <style>
    body { font-family: Arial, system-ui, -apple-system; padding: 12px; }
    h2 { text-align: center; margin: 8px 0 12px; }
    #controls { text-align: center; margin: 10px 0; }
    #counters { font-weight: bold; margin-bottom: 10px; text-align:center; }
    .table-wrapper { overflow-x: auto; }
    table { width: 100%; border-collapse: collapse; font-size: 0.95em; }
    th, td { border: 1px solid #ccc; padding: 8px 10px; text-align: left; }
    th { background: #f5f5f5; }
    .conceal { color: transparent; text-shadow: 0 0 6px rgba(0,0,0,0.7); cursor: pointer; }
    .unknown td { color: red !important; }
    .known td { background: #ececec; }
    button { font-size: .9em; padding: 4px 8px; margin: 0 4px 0 0; cursor: pointer; }
    .speak { padding: 2px 6px; font-size: .85em; }
  </style>
</head>
<body>
  <h2>ë‹¨ì–´ ì•”ê¸° ì²´í¬ í…Œì´ë¸” (ì—…ë°ì´íŠ¸)</h2>

  <div id="controls">
    <button id="btn-reverse" type="button">Reverse</button>
  </div>

  <div id="counters">ì•”ê¸°: 0 | ë¯¸ì•”ê¸°: 0</div>

  <div class="table-wrapper">
    <table>
      <thead>
        <tr>
          <th>ì˜ì–´</th>
          <th>ëœ»</th>
          <th>ìƒíƒœ</th>
        </tr>
      </thead>
      <tbody id="word-body"></tbody>
    </table>
  </div>

  <script>
    const WORDS = [
      { eng: 'in advance', mean: 'ì‚¬ì „ì—' },
      { eng: 'inspect', mean: 'ê²€ì‚¬/ê²€ì—´í•˜ë‹¤' },
      { eng: 'make oneâ€™s bed', mean: 'ì¹¨ëŒ€ë¥¼ ì •ëˆí•˜ë‹¤' },
      { eng: 'ridiculous', mean: 'ìš°ìŠ¤ê½ìŠ¤ëŸ¬ìš´' },
      { eng: 'barracks room', mean: '(êµ°ëŒ€) ìƒí™œê´€' },
      { eng: 'accomplish', mean: 'ì„±ì·¨í•˜ë‹¤' },
      { eng: 'estimate', mean: 'ì¶”ì •í•˜ë‹¤' },
      { eng: 'turn in', mean: '(ë‚¨ì˜ ê°ì •ì—) ê·€ë¥¼ ê¸°ìš¸ì´ë‹¤' },
      { eng: 'greeting', mean: 'ì¸ì‚¬' },
      { eng: 'climate', mean: 'ë¶„ìœ„ê¸°, ê¸°í›„' },
      { eng: 'set about', mean: 'ì‹œì‘í•˜ë‹¤' },
      { eng: 'argument', mean: 'ì£¼ì¥' },
      { eng: 'involved', mean: 'ì—´ì¤‘í•˜ëŠ”' },
      { eng: 'committed', mean: 'ëª°ì…ëœ' },
      { eng: 'absolute', mean: 'ì ˆëŒ€ì ì¸, ì™„ì „í•œ' },
      { eng: 'severe', mean: 'ì‹¬ê°í•œ' },
      { eng: 'job search', mean: 'êµ¬ì§í™œë™' },
      { eng: 'browse', mean: 'í›‘ì–´ë³´ë‹¤' },
      { eng: 'regardless of', mean: '~ì— ê´€ê³„ì—†ì´' },
      { eng: 'sheep', mean: 'ì–‘(ì–´ë¦¬ì„ì€ ì‚¬ëŒ)' },
      { eng: 'proactive', mean: 'ì§„ì·¨ì ì¸' },
      { eng: 'resume', mean: 'ì´ë ¥ì„œ' },
      { eng: 'agricultural', mean: 'ë†ì—…ì˜' },
      { eng: 'excessive', mean: 'ì§€ë‚˜ì¹œ' },
      { eng: 'incentive', mean: 'ë™ê¸°' },
      { eng: 'crude oil', mean: 'ì›ìœ ' },
      { eng: 'rainforest', mean: 'ì—´ëŒ€ìš°ë¦¼' },
      { eng: 'drill', mean: 'ëš«ë‹¤' },
      { eng: 'derive ~ from ~', mean: '~ì„ ~ì—ì„œ ì–»ë‹¤' },
      { eng: 'power plant', mean: 'ë°œì „ì†Œ' },
      { eng: 'engage in', mean: 'ì°¸ì—¬í•˜ë‹¤' },
      { eng: 'scapegoat', mean: 'í¬ìƒì–‘' },
      { eng: 'anthropologist', mean: 'ì¸ë¥˜í•™ì' },
      { eng: 'dirt', mean: 'ì˜¤ë¬¼' },
      { eng: 'emphasize', mean: 'ê°•ì¡°í•˜ë‹¤' },
      { eng: 'lie', mean: 'ë†“ì—¬ìˆë‹¤.' },
      { eng: 'sort', mean: 'ë¶„ë¥˜í•˜ë‹¤' },
      { eng: 'deserve', mean: 'ë°›ì„ ë§Œí•˜ë‹¤' },
      { eng: 'mislead', mean: 'ì†ì´ë‹¤' },
      { eng: 'conclude', mean: 'ê²°ë¡ ì„ ë‚´ë¦¬ë‹¤' },
      { eng: 'down time', mean: 'ê°€ë™ë˜ì§€ ì•ŠëŠ” ì‹œê°„' },
      { eng: 'cut back on', mean: '~ì„ ì¤„ì´ë‹¤' },
      { eng: 'reveal', mean: 'ë°íˆë‹¤' },
      { eng: 'carry out', mean: '~ì„ ìˆ˜í–‰í•˜ë‹¤' },
      { eng: 'at oneâ€™s best', mean: 'ìµœìƒì˜ ìˆ˜ì¤€ìœ¼ë¡œ' },
      { eng: 'vital', mean: 'ë§¤ìš° ì¤‘ìš”í•œ' },
      { eng: 'ensure', mean: 'ë³´ì¥í•˜ë‹¤.' },
      { eng: 'indication', mean: 'í‘œì‹œ' },
      { eng: 'prime', mean: 'ìµœì ì˜, ìµœê³ ì˜' },
      { eng: 'utilize', mean: 'í™œìš©í•˜ë‹¤. ì´ìš©í•˜ë‹¤.' },
      { eng: 'delightful', mean: 'ì¦ê±°ìš´' },
      { eng: 'trustworthy', mean: 'ì‹ ë¢°í•  ë§Œí•œ' },
      { eng: 'bet', mean: 'í™•ì‹ í•˜ë‹¤. ë³´ì¦í•˜ë‹¤.' },
      { eng: 'dangerously', mean: 'ìœ„í—˜í•  ì •ë„ë¡œ' },
      { eng: 'wiser', mean: 'ë” í˜„ëª…í•œ' },
      { eng: 'fit', mean: 'ì•Œë§ë‹¤, ì í•©í•˜ë‹¤' },
      { eng: 'notion', mean: 'ê°œë…' },
      { eng: 'quantity', mean: 'ì–‘' },
      { eng: 'construct', mean: 'êµ¬ì„±í•˜ë‹¤' },
      { eng: 'monsoon', mean: 'ëª¬ìˆœ(ê³„ì ˆí’ì˜ í•œì¢…ë¥˜)' },
      { eng: 'central heating', mean: 'ì¤‘ì•™ ë‚œë°©' },
      { eng: 'neuroscientist', mean: 'ì‹ ê²½ ê³¼í•™ì.' },
      { eng: 'gratitude', mean: 'ê°ì‚¬' },
      { eng: 'activate', mean: 'í™œì„±í™” ì‹œí‚¤ë‹¤.' },
      { eng: 'intentionally', mean: 'ì˜ë„ì ìœ¼ë¡œ' },
      { eng: 'evoke', mean: '(ê°ì •ì„)ë¶ˆëŸ¬ ì¼ìœ¼í‚¤ë‹¤.' },
      { eng: 'premise', mean: 'ì „ì œ' },
      { eng: 'approximately', mean: 'ëŒ€ëµ' },
      { eng: 'nutritionally', mean: 'ì˜ì–‘í•™ì ìœ¼ë¡œ' },
      { eng: 'raise', mean: 'ê¸°ë¥´ë‹¤.' },
      { eng: 'confinement', mean: 'ê°‡í˜' },
      { eng: 'protest', mean: 'í•­ì˜í•˜ë‹¤.' },
      { eng: 'poultry', mean: 'ê°€ê¸ˆë¥˜(ë‹­, ì˜¤ë¦¬ ê±°ìœ„ ë“±)' },
      { eng: 'regulation', mean: 'í†µì œ' },
      { eng: 'related to', mean: '~ì— ê´€ë ¨ëœ' },
      { eng: 'well-being', mean: 'í–‰ë³µ' },
      { eng: 'label', mean: 'ì´ë¦„ì„ ë¶™ì´ë‹¤.' },
      { eng: 'absolutely', mean: 'ì ˆëŒ€ì ìœ¼ë¡œ' },
      { eng: 'transformative', mean: '(ì‚¬ëŒì„) ë³€í™”ì‹œí‚¤ëŠ”' },
      { eng: 'distinguish', mean: 'êµ¬ë³„í•˜ë‹¤.' },
      { eng: 'nuanced', mean: 'ë¯¸ë¬˜í•œ ì°¨ì´ê°€ ìˆëŠ”' },
      { eng: 'pose', mean: 'ì œê¸°í•˜ë‹¤, ì£¼ë‹¤, ë¶€ê³¼í•˜ë‹¤' },
      { eng: 'alternative', mean: 'ëŒ€ì•ˆ' },
      { eng: 'commit to', mean: '~ì— ì „ë…í•˜ë‹¤.' },
      { eng: 'evident', mean: 'ë¶„ëª…í•œ' },
      { eng: 'ready-made', mean: 'ì´ë¯¸ ì£¼ì–´ì§„' },
      { eng: 'control', mean: 'í†µì œë ¥' },
      { eng: 'underneath', mean: '~ì˜ ë°‘ì—' },
      { eng: 'prescribe', mean: 'ê·œì •í•˜ë‹¤. ì§€ì‹œí•˜ë‹¤.' },
      { eng: 'mobility', mean: 'ìœ ë™ì„±' },
      { eng: 'impose', mean: 'ë¶€ì—¬í•˜ë‹¤.' },
      { eng: 'medical insurance', mean: 'ì˜ë£Œ ë³´í—˜' },
      { eng: 'landscape', mean: 'ì§€í˜•' },
      { eng: 'coworker', mean: 'ë™ë£Œ' },
      { eng: 'disagreement', mean: 'ì˜ê²¬ì¶©ëŒ' },
      { eng: 'navigate', mean: 'ìš´ì „í•˜ë‹¤.' },
      { eng: 'critical', mean: 'ì¤‘ìš”í•œ' },
      { eng: 'skyscraper', mean: 'ê³ ì¸µ ë¹Œë”©, ë§ˆì²œë£¨' },
      { eng: 'likelihood', mean: 'ê°€ëŠ¥ì„±' },
      { eng: 'be rooted in', mean: '~ì— ë¿Œë¦¬ ë°•í˜€ ìˆë‹¤.' },
      { eng: 'get along with', mean: '~ì™€ ì˜ì§€ë‚´ë‹¤.' },
      { eng: 'relate', mean: 'ë§ˆìŒì„ ì´ìš©í•˜ë‹¤.' },
      { eng: 'feather', mean: 'ê¹ƒí„¸' },
      { eng: 'flock', mean: 'ëª¨ì´ë‹¤.' },
      { eng: 'foreign', mean: 'ë‚¯ì„ ' },
      { eng: 'be conditioned to do', mean: '~í•˜ë„ë¡ ì¡°ê±´í™” ë˜ì–´ ìˆë‹¤.' },
      { eng: 'farmland', mean: 'ë†ì§€' },
      { eng: 'reduction', mean: 'ì¶•ì†Œ ê°ì†Œ' },
      { eng: 'fertilizer', mean: 'ë¹„ë£Œ' },
      { eng: 'uptake', mean: 'ì„­ì·¨ í™ìˆ˜' },
      { eng: 'acidic', mean: 'ì‚°ì„±ì˜' },
      { eng: 'mineral', mean: 'ê´‘ë¬¼, ë¬´ê¸°ë¬¼' },
      { eng: 'earthworm', mean: 'ì§€ë ì´' },
      { eng: 'essential nutrient', mean: 'í•„ìˆ˜ ì˜ì–‘ì†Œ' },
      { eng: 'content', mean: 'í•¨ë¥˜ëŸ‰, ë‚´ìš©ë¬¼' },
      { eng: 'accumulation', mean: 'ì¶•ì , ëˆ„ì ' },
      { eng: 'overall', mean: 'ì „ë°˜ì ì¸' },
      { eng: 'firm', mean: 'íšŒì‚¬' },
      { eng: 'dismiss', mean: 'í•´ê³  í•˜ë‹¤.' },
      { eng: 'picture', mean: 'ìƒìƒí•˜ë‹¤. ê·¸ë¦¬ë‹¤.' },
      { eng: 'unemployment', mean: 'ì‹¤ì—…ë¥ ' },
      { eng: 'leakage', mean: 'ëˆ„ì¶œ, ëˆ„ìˆ˜' },
      { eng: 'earnings', mean: 'ìˆ˜ì… ì†Œë“' },
      { eng: 'apply', mean: 'ì ìš©í•˜ë‹¤. ì‚¬ìš©í•˜ë‹¤.' },
      { eng: 'eyebrow', mean: 'ëˆˆì¹' },
      { eng: 'genuine', mean: 'ì§„ì§œì˜' },
      { eng: 'manufacture', mean: 'ì œì¡°í•˜ë‹¤.' },
      { eng: 'wrinkle', mean: 'ì£¼ë¦„(ì‚´)' },
      { eng: 'noticeably', mean: 'ëˆˆì— ë„ê²Œ' },
      { eng: 'eyelid', mean: 'ëˆˆêº¼í’€' },
      { eng: 'obvious', mean: 'ëª…í™•í•œ' },
      { eng: 'insincere', mean: 'ì§„ì‹¤í•˜ì§€ ëª»í•œ' },
      { eng: 'primarily', mean: 'ì£¼ë¡œ, ì²«ì§¸ì˜' },
      { eng: 'species', mean: 'ì¢…(ìƒë¬¼ ë¶„ë¥˜ì˜ ê¸°ì´ˆë‹¨ìœ„)' },
      { eng: 'pesticide', mean: 'ì‚´ì¶©ì œ' },
      { eng: 'recession', mean: 'ê²½ê¸° í›„í‡´' },
      { eng: 'unfavorable', mean: 'í˜¸ì˜ì ì´ì§€ ì•Šì€, ê±°ìŠ¬ë¦¬ëŠ”' },
      { eng: 'tough', mean: 'ê°•í•œ' },
      { eng: 'handle', mean: 'ê°ë‹¹í•˜ë‹¤.' },
      { eng: 'circumstance', mean: 'ìƒí™©' },
      { eng: 'extinction', mean: 'ë©¸ì¢…' },
      { eng: 'coordinate', mean: 'í†µí•©í•˜ë‹¤.' },
      { eng: 'conservationist', mean: 'í™˜ê²½ë³´í˜¸ í™œë™ê°€.' },
      { eng: 'authority', mean: 'ë‹¹êµ­' },
      { eng: 'individual', mean: 'ê°œì²´, ê°œê°œì˜' },
      { eng: 'supplement', mean: 'ë³´ì¶©í•˜ë‹¤.' },
      { eng: 'remove', mean: 'ì˜®ê¸°ë‹¤. ì œê±°í•˜ë‹¤.' },
      { eng: 'release', mean: 'ë†“ì•„ì£¼ë‹¤. ë°©ì¶œí•˜ë‹¤.' },
      { eng: 'leftover', mean: 'ë‚¨ì€ ìŒì‹' },
      { eng: 'variable', mean: 'ë³¸ì§ˆì ìœ¼ë¡œ' },
      { eng: 'immediate family', mean: 'ì§ê³„ê°€ì¡±' },
      { eng: 'spoil', mean: 'ìƒí•˜ë‹¤.' },
      { eng: 'generous', mean: 'ê´€ëŒ€í•œ í›„í•œ.' },
      { eng: 'spill', mean: 'ë„˜ì¹˜ë‹¤.' },
      { eng: 'disastrous', mean: 'ì²˜ì°¸í•œ, í”¼í•´ê°€ ë§‰ì‹¬í•œ' },
      { eng: 'floodplain', mean: 'ë²”ëŒì›' },
      { eng: 'wetland', mean: 'ìŠµì§€' },
      { eng: 'variation', mean: 'ë³€í˜•, ë³€í™”' },
      { eng: 'ever-changing', mean: 'ëŠì„ì—†ì´ ëŠ˜ ë³€í™”í•˜ëŠ”' },
      { eng: 'shoreline', mean: 'ê°ê°€' },
      { eng: 'deliberately', mean: 'ì˜ë„ì ìœ¼ë¡œ' },
      { eng: 'captive breeding', mean: 'í¬íšì‚¬ìœ¡' },
      { eng: 'hatch', mean: 'ë¶€í™”í•˜ë‹¤.' },
      { eng: 'reciprocal', mean: 'ìƒí˜¸ ì´íƒ€ì£¼ì˜' },
      { eng: 'primates', mean: 'ì˜ì¥ë¥˜' },
      { eng: 'geometry', mean: 'ê¸°í•˜í•™' },
      { eng: 'capacity', mean: 'ìˆ˜ìš©ëŠ¥ë ¥' },
      { eng: 'imitate', mean: 'ëª¨ë°©í•˜ë‹¤..' },
      { eng: 'caregiver', mean: 'ëŒë³´ëŠ” ì‚¬ëŒ' },
      { eng: 'interval', mean: 'ê°„ê²©' },
      { eng: 'magician', mean: 'ë§ˆìˆ ì‚¬.' },
      { eng: 'in public', mean: 'ê³µê³µì—°íˆ' },
      { eng: 'exaggerate', mean: 'ê³¼ì¥í•˜ë‹¤.' },
      { eng: 'enderestimate', mean: 'ê³¼ì†Œí‰ê°€í•˜ë‹¤.' },
      { eng: 'be supposed to do', mean: '~í•´ì•¼ í•œë‹¤.' },
      { eng: 'sort out', mean: 'ê°€ë ¤ë‚´ë‹¤.' },
      { eng: 'negotiate', mean: 'í˜‘ìƒí•˜ë‹¤.' },
      { eng: 'unburden', mean: 'ë²—ì–´ë‚˜ê²Œ í•˜ë‹¤.' },
      { eng: 'ensure that', mean: '~ì„ ë³´ì¥í•˜ë‹¤.' },
      { eng: 'met', mean: 'ì¶©ì¡±í•˜ë‹¤.' },
      { eng: 'consistently', mean: 'ì¼ê´€ë˜ê²Œ' },
      { eng: 'need', mean: 'ìš•êµ¬' },
      { eng: 'hold ~in', mean: '~ì„ ì°¸ë‹¤.' },
      { eng: 'distress', mean: 'ê´´ë¡œì›€' },
      { eng: 'companion', mean: 'ì¹œêµ¬ ë™ë°˜ì.' },
      { eng: 'eliminate', mean: 'ë°°ì„¤í•˜ë‹¤.' },
      { eng: 'idiosyncratic', mean: '(ê°œì¸ì—ê²Œ) íŠ¹ìœ í•œ' },
      { eng: 'scattered', mean: 'ë¶„ì‚°ì›, ë“œë¬¸ë“œë¬¸í•œ' },
      { eng: 'cloak', mean: 'ë§í† ' },
      { eng: 'sparkle', mean: 'ë°˜ì§ì„' },
      { eng: 'molecule', mean: 'ë¶„ì.' },
      { eng: 'handy', mean: 'í¸ë¦¬í•œ ê°„í¸í•œ' },
      { eng: 'deep-sea', mean: 'ì‹¬í•´ì˜' },
      { eng: 'organism', mean: 'ìƒë¬¼ ìœ ê¸°ì²´' },
      { eng: 'terms', mean: 'ì¡°í•­, ì¡°ê±´' },
      { eng: 'attract', mean: 'ìœ í˜¹í•˜ë‹¤. ìœ ì¸í•˜ë‹¤.' },
      { eng: 'attractant', mean: 'ìœ ì¸(ë¬¼ì§ˆ)' },
      { eng: 'bioluminescence', mean: 'ìƒë¬¼ë°œê´‘' },
      { eng: 'lure', mean: 'ê°€ì§œ ë¯¸ë¼' },
      { eng: 'bond', mean: 'ê²°ì†, ìœ ëŒ€' },
      { eng: 'conduct', mean: 'ìˆ˜í–‰í•˜ë‹¤.' },
      { eng: 'lecture', mean: 'ê°•ì˜í•˜ë‹¤. ê°•ì˜' },
      { eng: 'pull together', mean: 'ëª¨ìœ¼ë‹¤. ì·¨í•©í•˜ë‹¤.' },
      { eng: 'assume', mean: 'ê°€ì •í•˜ë‹¤.' },
      { eng: 'standpoint', mean: 'ê²½ì§€, ê´€ì ' },
      { eng: 'confront', mean: 'ë§ˆì£¼í•˜ë‹¤.' },
      { eng: 'blend', mean: 'í˜¼í•©í•˜ë‹¤. ì„ë‹¤.' },
      { eng: 'internalize', mean: 'ë‚´ë©´í™” í•˜ë‹¤.' },
      { eng: 'artifact', mean: 'ì°½ì‘ë¬¼' },
      { eng: 'framework', mean: 'íˆ´ ì²µì œ' },
      { eng: 'monocultural', mean: 'ë‹¨ì¼ë¬¸í™”ì˜' },
      { eng: 'golden rule', mean: 'í™©ê¸ˆë¥ ' },
      { eng: 'frustrating', mean: 'ë¶ˆë§ŒìŠ¤ëŸ¬ìš´, ì¢Œì ˆê°ì„ ë‚³ê²Œ í•˜ëŠ”' },
      { eng: 'make sense', mean: 'ì˜ë¯¸ê°€ í†µí•˜ë‹¤. íƒ€ë‹¹í•˜ë‹¤.' },
      { eng: 'commitment', mean: 'ì•½ì† í—Œì‹ ' },
      { eng: 'block', mean: 'ë§‰ë‹¤.' },
      { eng: 'astonishing', mean: 'ë†€ë¼ìš´' },
      { eng: 'willingness', mean: 'ê¸°êº¼ì´í•˜ëŠ” ë§ˆìŒ' },
      { eng: 'be attracted to', mean: '~ì— ëŒë¦¬ë‹¤.' },
      { eng: 'alert', mean: 'ê²½ê³„í•˜ëŠ”, ê¸°ë¯¼í•œ' },
      { eng: 'afar', mean: 'ë©€ë¦¬ ì•„ë“íˆ' },
      { eng: 'be made up of', mean: '~ìœ¼ë¡œ ã…‡ë£¨ì–´ ì§€ë‹¤.' },
      { eng: 'all the time', mean: 'í•­ìƒ' },
      { eng: 'stand for', mean: '~ì„ ë‚˜íƒ€ë‚´ë‹¤.' },
      { eng: 'spell out', mean: '~ì„ ìƒì„¸íˆ ë‹¤ ì“°ë‹¤.' },
      { eng: 'chemical formula', mean: 'í™”í•™ì‹' },
      { eng: 'molecule', mean: 'ë¶„ì' },
      { eng: 'appreciate', mean: '(ì œëŒ€ë¡œ) ì¸ì‹í•˜ë‹¤.' },
      { eng: 'Friends', mean: 'ë¯¸êµ­ ì‹œíŠ¸ì½¤ ì´ë¦„' },
      { eng: 'thermometer', mean: 'ì˜¨ë„ê³„' },
      { eng: 'skid', mean: 'ë¯¸ë„ëŸ¬ì§€ë‹¤.' },
      { eng: 'tread', mean: 'ì ‘ì§€ë©´ ë°”ë‹¥' }
    ];

    let knownCount = 0;
    let unknownCount = 0;
    let reversed = false;

    function escapeHtml(s) {
      return String(s).replace(/[&<>"']/g, m => (
        { '&': '&amp;', '<': '&lt;', '>': '&gt;', '"': '&quot;', "'": '&#39;' }[m]
      ));
    }

    function speak(text) {
      const u = new SpeechSynthesisUtterance(text);
      u.lang = 'en-US';
      speechSynthesis.speak(u);
    }

    function updateCounters() {
      document.getElementById('counters').textContent = `ì•”ê¸°: ${knownCount} | ë¯¸ì•”ê¸°: ${unknownCount}`;
    }

    function setEnglishCellContent(td, text) {
      td.innerHTML = `${escapeHtml(text)} <button class="speak" data-text="${escapeHtml(text)}">ğŸ”Š</button>`;
    }

    function buildTable() {
      const tb = document.getElementById('word-body');
      tb.innerHTML = '';
      for (const { eng, mean } of WORDS) {
        const tr = document.createElement('tr');
        const tdEng = document.createElement('td');
        tdEng.className = 'col-eng';
        tdEng.dataset.original = eng;
        setEnglishCellContent(tdEng, eng);
        const tdMean = document.createElement('td');
        tdMean.className = 'col-mean';
        tdMean.dataset.meaning = mean;
        tdMean.textContent = mean;
        const tdAct = document.createElement('td');
        tdAct.className = 'col-act';
        tdAct.innerHTML = `<button class="btn-known">ì•”ê¸°</button><button class="btn-unknown">ë¯¸ì•”ê¸°</button>`;
        tr.append(tdEng, tdMean, tdAct);
        tb.appendChild(tr);
      }
      knownCount = 0; unknownCount = 0; updateCounters(); applyConceal();
    }

    function mark(btn, type) {
      const row = btn.closest('tr');
      const tb  = row.parentNode;
      if (type === 'known' && !row.classList.contains('known')) {
        knownCount++;
        if (row.classList.contains('unknown')) unknownCount--;
        row.classList.add('known');
        row.classList.remove('unknown');
      } else if (type === 'unknown' && !row.classList.contains('unknown')) {
        unknownCount++;
        if (row.classList.contains('known')) knownCount--;
        row.classList.add('unknown');
        row.classList.remove('known');
        tb.insertBefore(row, tb.firstChild);
      }
      updateCounters();
    }

    function restoreVisibleEachRow(r) {
      const eng = r.querySelector('.col-eng');
      const mean = r.querySelector('.col-mean');
      if (!eng || !mean) return;
      eng.classList.remove('conceal');
      mean.classList.remove('conceal');
      setEnglishCellContent(eng, eng.dataset.original);
      mean.textContent = mean.dataset.meaning;
    }

    function applyConceal() {
      document.querySelectorAll('#word-body tr').forEach(r => {
        restoreVisibleEachRow(r);
        const target = reversed ? r.querySelector('.col-eng') : r.querySelector('.col-mean');
        if (target) {
          target.textContent = 'í´ë¦­í•´ ë³´ê¸°';
          target.classList.add('conceal');
        }
      });
    }

    function handleConcealClick(td) {
      const row = td.closest('tr');
      if (!row) return;
      const eng = row.querySelector('.col-eng');
      const mean = row.querySelector('.col-mean');
      if (!eng || !mean) return;
      if (td.classList.contains('conceal')) {
        if (td.classList.contains('col-eng')) {
          setEnglishCellContent(td, td.dataset.original);
        } else if (td.classList.contains('col-mean')) {
          td.textContent = td.dataset.meaning ?? td.textContent;
        }
        td.classList.remove('conceal');
        return;
      }
      const target = reversed ? eng : mean;
      if (td === target) {
        td.textContent = 'í´ë¦­í•´ ë³´ê¸°';
        td.classList.add('conceal');
      }
    }

    function reverseCols() {
      reversed = !reversed;
      document.querySelectorAll('#word-body tr').forEach(r => {
        const cells = Array.from(r.children);
        if (cells.length < 3) return;
        r.append(cells[1], cells[0], cells[2]);
      });
      applyConceal();
    }

    document.addEventListener('click', (e) => {
      if (e.target.matches('.speak')) {
        speak(e.target.dataset.text || '');
        return;
      }
      if (e.target.matches('.btn-known')) {
        mark(e.target, 'known');
        return;
      }
      if (e.target.matches('.btn-unknown')) {
        mark(e.target, 'unknown');
        return;
      }
      const td = e.target.closest('td');
      if (td) handleConcealClick(td);
    });

    document.getElementById('btn-reverse').addEventListener('click', reverseCols);
    buildTable();
  </script>
</body>
</html>
